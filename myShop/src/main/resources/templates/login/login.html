<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Login</title>
	<link th:href="@{/assets/css/login.css}" rel="stylesheet" />
	<script type="text/javascript" th:src="@{/assets/libs/jquery/dist/jquery.min.js}"></script>
</head>

<body>
<div id="container" class="container">
	<!-- FORM SECTION -->
	<div class="row">
		<!-- SIGN UP -->
		<div class="col align-items-center flex-col sign-up">
			<div class="form-wrapper align-items-center">
				<div class="form sign-up">
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
					<div class="input-group">
						<i class='bx bxs-user'></i>
						<input type="text" placeholder="Username">
					</div>
					<div class="input-group">
						<i class='bx bx-mail-send'></i>
						<input type="email" placeholder="Email">
					</div>
					<div class="input-group">
						<i class='bx bxs-lock-alt'></i>
						<input type="password" placeholder="Password">
					</div>
					<div class="input-group">
						<i class='bx bxs-lock-alt'></i>
						<input type="password" placeholder="Confirm password">
					</div>
					<button>Sign up</button>
					<p>
						<span>
							Already have an account?
						</span>
						<b onclick="toggle()" class="pointer">
							Sign in here
						</b>
					</p>
				</div>
			</div>
		</div>
		<!-- END SIGN UP -->
		<!-- SIGN IN -->
		<div class="col align-items-center flex-col sign-in">
			<div class="form-wrapper align-items-center">
				<div class="form sign-in">
					<form action="/login-proc" method="post">
						<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
						<div class="input-group">
							<i class='bx bxs-user'></i>
							<input type="text" name="user_id" placeholder="Id">
						</div>
						<div class="input-group">
							<i class='bx bxs-lock-alt'></i>
							<input type="password" name="password" placeholder="Password">
						</div>
						<div id="failMsg">
						</div>
						<button type="submit">Sign in</button>
					</form>
					<p>
						<b>Forgot password?</b>
					</p>
					<p>
						<span>Don't have an account?</span>
						<b onclick="toggle()" class="pointer">Sign up here</b>
					</p>
				</div>
			</div>
		</div>
		<!-- END SIGN IN -->
	</div>
	<!-- END FORM SECTION -->
	<!-- CONTENT SECTION -->
	<div class="row content-row">
		<!-- SIGN IN CONTENT -->
		<div class="col align-items-center flex-col">
			<div class="text sign-in">
				<h2>Welcome</h2>
			</div>
			<div class="img sign-in"></div>
		</div>
		<!-- END SIGN IN CONTENT -->
		<!-- SIGN UP CONTENT -->
		<div class="col align-items-center flex-col">
			<div class="img sign-up">
			</div>
			<div class="text sign-up">
				<h2>Join with us</h2>
			</div>
		</div>
		<!-- END SIGN UP CONTENT -->
	</div>
	<!-- END CONTENT SECTION -->
</div>

<script type="text/javascript">
$(document).ready(function() {
	let container = $('#container');
	toggle = () => {
		container.toggleClass('sign-in');
		container.toggleClass('sign-up');
	}

	setTimeout(() => {
		container.addClass('sign-in');
	}, 200);

	let queryString = window.location.search.substring(1);
	if(queryString == 'error'){
		$('#failMsg').text('아이디 또는 비밀번호를 확인해주세요.');
		$('#failMsg').css('margin-bottom', '1rem');
		$('#failMsg').css('color', 'red');
	}
});
</script>
</body>
</html>